"use strict";function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classApplyDescriptorGet(e,t){return t.get?t.get.call(e):t.value}function _classApplyDescriptorSet(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classExtractFieldDescriptor(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function _classPrivateFieldGet(e,t){return _classApplyDescriptorGet(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateFieldInit(e,t,n){_checkPrivateRedeclaration(e,t),t.set(e,n)}function _classPrivateFieldSet(e,t,n){return _classApplyDescriptorSet(e,_classExtractFieldDescriptor(e,t,"set"),n),n}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _typeof=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}var bankBalance=3;bankBalance+=2,console.log(bankBalance+2),console.log(bankBalance);var months=["January","February","March","April","May","June","July","August","September","October","November","December"],Workout=function(){function e(t,n,o){_classCallCheck(this,e),_defineProperty(this,"date",new Date),_defineProperty(this,"id",(Date.now()+"").slice(-10)),_defineProperty(this,"clicks",0),this.coords=t,this.distance=n,this.duration=o}return _createClass(e,[{key:"_setDescription",value:function(){this.description="".concat(this.type[0].toUpperCase()).concat(this.type.slice(1)," on ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][this.date.getMonth()]," ").concat(this.date.getDate())}},{key:"click",value:function(){this.clicks++}}]),e}(),Running=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,i,r){var a;return _classCallCheck(this,n),_defineProperty(_assertThisInitialized(a=t.call(this,e,o,i)),"type","running"),a.cadence=r,a.calcPace(),a._setDescription(),a}return _createClass(n,[{key:"calcPace",value:function(){return this.pace=this.duration/this.distance,this.pace}}]),n}(Workout),Cycling=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,i,r){var a;return _classCallCheck(this,n),_defineProperty(_assertThisInitialized(a=t.call(this,e,o,i)),"type","cycling"),a.elevationGain=r,a.type="cycling",a.clasSpeed(),a._setDescription(),a}return _createClass(n,[{key:"clasSpeed",value:function(){return this.speed=this.distance/(this.duration/60),this.speed}}]),n}(Workout),run1=new Running([39,-12],5.2,24,178),cycling1=new Cycling([39,-12],27,95,523),form=document.querySelector(".form"),containerWorkouts=document.querySelector(".workouts"),inputType=document.querySelector(".form__input--type"),inputDistance=document.querySelector(".form__input--distance"),inputDuration=document.querySelector(".form__input--duration"),inputCadence=document.querySelector(".form__input--cadence"),inputElevation=document.querySelector(".form__input--elevation"),_map=new WeakMap,_mapZoomLevel=new WeakMap,_mapEvent=new WeakMap,_workouts=new WeakMap,App=function(){function e(){_classCallCheck(this,e),_classPrivateFieldInit(this,_map,{writable:!0,value:void 0}),_classPrivateFieldInit(this,_mapZoomLevel,{writable:!0,value:13}),_classPrivateFieldInit(this,_mapEvent,{writable:!0,value:void 0}),_classPrivateFieldInit(this,_workouts,{writable:!0,value:[]}),this._getPosition(),this._getLocalStorage(),form.addEventListener("submit",this._newWorkout.bind(this)),inputType.addEventListener("change",this._toggleElevationField),containerWorkouts.addEventListener("click",this._moveToPopup.bind(this))}return _createClass(e,[{key:"_getPosition",value:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this._loadMap.bind(this),(function(){alert("Could not get your position.")}))}},{key:"_loadMap",value:function(e){var t=this,n=e.coords.latitude,o=e.coords.longitude;console.log("https://www.google.com/maps/@".concat(n,",").concat(o));var i=[n,o];_classPrivateFieldSet(this,_map,L.map("map").setView(i,_classPrivateFieldGet(this,_mapZoomLevel))),L.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(_classPrivateFieldGet(this,_map)),_classPrivateFieldGet(this,_map).on("click",this._showForm.bind(this)),_classPrivateFieldGet(this,_workouts).forEach((function(e){t._renderWorkoutMarker(e)}))}},{key:"_showForm",value:function(e){_classPrivateFieldSet(this,_mapEvent,e),form.classList.remove("hidden"),inputDistance.focus()}},{key:"_hideForm",value:function(){inputDistance.value=inputDuration.value=inputCadence.value=inputElevation.value="",form.style.display="none",form.classList.add("hidden"),setTimeout((function(){return form.style.display="grid"}),1e3)}},{key:"_toggleElevationField",value:function(){inputElevation.closest(".form__row").classList.toggle("form__row--hidden"),inputCadence.closest(".form__row").classList.toggle("form__row--hidden")}},{key:"_newWorkout",value:function(e){var t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return Number.isFinite(e)}))},n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e>0}))};e.preventDefault();var o,i=inputType.value,r=+inputDistance.value,a=+inputDuration.value,s=_classPrivateFieldGet(this,_mapEvent).latlng,c=s.lat,l=s.lng;if("running"===i){var u=+inputCadence.value;if(!t(r,a,u)||!n(r,a,u))return alert("Inputs have to be positive numbers!");o=new Running([c,l],r,a,u)}if("cycling"===i){var p=+inputElevation.value;if(!t(r,a,p)||!n(r,a))return alert("Inputs have to be positive numbers!");o=new Cycling([c,l],r,a,p)}_classPrivateFieldGet(this,_workouts).push(o),this._renderWorkoutMarker(o),this._renderWorkout(o),this._hideForm(),this._setLocalStorage()}},{key:"_renderWorkoutMarker",value:function(e){L.marker(e.coords).addTo(_classPrivateFieldGet(this,_map)).bindPopup(L.popup({maxWidth:250,minWidth:100,autoClose:!1,closeOnClick:!1,className:"".concat(e.type,"-popup")})).setPopupContent("".concat("running"===e.type?"üèÉ‚Äç‚ôÇÔ∏è":"üö¥‚Äç‚ôÄÔ∏è"," ").concat(e.description)).openPopup()}},{key:"_renderWorkout",value:function(e){var t='\n    <li class="workout workout--'.concat(e.type,'" data-id="').concat(e.id,'">\n          <h2 class="workout__title">').concat(e.description,'</h2>\n          <div class="workout__details">\n            <span class="workout__icon">').concat("running"===e.type?"üèÉ‚Äç‚ôÇÔ∏è":"üö¥‚Äç‚ôÄÔ∏è",'</span>\n            <span class="workout__value">').concat(e.distance,'</span>\n            <span class="workout__unit">km</span>\n          </div>\n          <div class="workout__details">\n            <span class="workout__icon">‚è±</span>\n            <span class="workout__value">').concat(e.duration,'</span>\n            <span class="workout__unit">min</span>\n          </div>');"running"===e.type&&(t+='\n      <div class="workout__details">\n          <span class="workout__icon">‚ö°Ô∏è</span>\n          <span class="workout__value">'.concat(e.pace.toFixed(1),'</span>\n          <span class="workout__unit">min/km</span>\n        </div>\n        <div class="workout__details">\n          <span class="workout__icon">ü¶∂üèº</span>\n          <span class="workout__value">').concat(e.cadence,'</span>\n          <span class="workout__unit">spm</span>\n        </div>\n      </li>')),"cycling"===e.type&&(t+='\n        <div class="workout__details">\n            <span class="workout__icon">‚ö°Ô∏è</span>\n            <span class="workout__value">'.concat(e.speed.toFixed(1),'</span>\n            <span class="workout__unit">km/h</span>\n        </div>\n        <div class="workout__details">\n            <span class="workout__icon">‚õ∞</span>\n            <span class="workout__value">').concat(e.elevationGain,'</span>\n            <span class="workout__unit">m</span>\n        </div>\n        </li>')),form.insertAdjacentHTML("afterend",t)}},{key:"_moveToPopup",value:function(e){var t=e.target.closest(".workout");if(t){var n=_classPrivateFieldGet(this,_workouts).find((function(e){return e.id===t.dataset.id}));_classPrivateFieldGet(this,_map).setView(n.coords,_classPrivateFieldGet(this,_mapZoomLevel),{animate:!0,pan:{duration:1}})}}},{key:"_setLocalStorage",value:function(){localStorage.setItem("workout",JSON.stringify(_classPrivateFieldGet(this,_workouts)))}},{key:"_getLocalStorage",value:function(){var e=this,t=JSON.parse(localStorage.getItem("workout"));t&&(_classPrivateFieldSet(this,_workouts,t),_classPrivateFieldGet(this,_workouts).forEach((function(t){e._renderWorkout(t)})))}},{key:"reset",value:function(){localStorage.removeItem("workout"),location.reload()}}]),e}(),app=new App;
//# sourceMappingURL=index.8a10b47c.js.map
